{"version":3,"sources":["Components/ImageList.module.css","api/unsplash.js","Components/SearchBar.js","Components/ImageCard.js","Components/ImageList.js","App.js","index.js"],"names":["module","exports","axios","create","baseURL","headers","Authorization","SearchBar","state","term","onSubmitForm","event","preventDefault","props","onSubmit","className","this","type","placeholder","value","onChange","e","setState","target","style","textAlign","paddingTop","React","Component","ImageCard","setSpans","height","imageRef","current","clientHeight","spans","Math","ceil","createRef","addEventListener","image","alt_description","urls","fullImage","full","gridRowEnd","rel","href","ref","alt","src","small","ImageList","images","map","key","id","classes","imageList","App","activePage","totalItems","searchTerm","onSearchSubmit","a","unsplash","get","params","query","per_page","page","response","data","results","length","total","config","handlePageChange","pageNumber","showPagination","itemClass","linkClass","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","bind","marginTop","position","right","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.5d3d41fe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageList\":\"ImageList_imageList__QEbw5\"};","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  baseURL: 'https://api.unsplash.com',\r\n  headers: {\r\n    // Unsplash.com developers Client-ID\r\n    Authorization: 'Client-ID BBfUEe_4fTr6NPP0gNmykERRW8GfdD5BJ63BK5pkva0'\r\n  }\r\n});","import React from 'react';\r\n\r\nclass SearchBar extends React.Component {\r\n  state = {term: ''}\r\n\r\n  onSubmitForm = (event) => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state.term);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ui inverted segment\">\r\n        <form className=\"ui form\" onSubmit={this.onSubmitForm}>\r\n          <div className=\"ui fluid left icon input\">\r\n            <input type=\"text\" placeholder=\"Search image\" value={this.state.term} onChange={(e) => {this.setState({term: e.target.value})}}/>\r\n            <i className=\"inverted circular search link icon\"></i>\r\n          </div>\r\n        </form>\r\n        <p style={{textAlign: \"center\", paddingTop: \"10px\"}}>Click on an image to open full resolution image.</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;","import React, { Component } from 'react';\r\n\r\nclass ImageCard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {spans: 0};\r\n\r\n    this.imageRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.imageRef.current.addEventListener('load', this.setSpans);\r\n  }\r\n\r\n  setSpans = () => {\r\n    // console.log(this.imageRef.current.clientHeight);\r\n    const height = this.imageRef.current.clientHeight;\r\n\r\n    // coz -> grid-auto-rows: 10px;\r\n    const spans = Math.ceil(height / 10);\r\n\r\n    this.setState({spans});\r\n  }\r\n\r\n  render() {\r\n    const {alt_description, urls} = this.props.image;\r\n    const fullImage = urls.full;\r\n\r\n    return (\r\n      <div style={{gridRowEnd: `span ${this.state.spans}`}}>\r\n        <a rel=\"noopener noreferrer\" href={fullImage} target=\"_blank\">\r\n          <img ref={this.imageRef} alt={alt_description} src={urls.small} />\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageCard;","import React from 'react';\r\nimport classes from './ImageList.module.css';\r\nimport ImageCard from './ImageCard';\r\n\r\nconst ImageList = (props) => {\r\n\r\n  if(props.images === null) {\r\n    return <div style={{textAlign: \"center\"}}><a href=\"/\" className=\"ui red large label\">Please enter a valid name</a></div>;\r\n  }\r\n\r\n  const images = props.images.map((image) => {\r\n    return (\r\n      <ImageCard key={image.id} image={image} />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className={classes.imageList}>\r\n      {images}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageList;","import React from 'react';\r\nimport unsplash from './api/unsplash';\r\nimport SearchBar from './Components/SearchBar';\r\nimport ImageList from './Components/ImageList';\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    images: [],\r\n    activePage: 1,\r\n    totalItems: 0,\r\n    searchTerm: ''\r\n  };\r\n\r\n  onSearchSubmit = async (term) => {\r\n    const url = '/search/photos';\r\n    const response = await unsplash.get(url, {\r\n      params: {\r\n        query: term , \r\n        per_page: 30, \r\n        page: this.state.activePage\r\n      },\r\n    });\r\n\r\n    if(response.data.results.length === 0) {\r\n      this.setState({images: null})\r\n    } else {\r\n      this.setState({\r\n        images: response.data.results, \r\n        totalItems: response.data.total, \r\n        searchTerm: response.config.params.query\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  handlePageChange = async (pageNumber) => {\r\n     await this.setState({activePage: pageNumber});\r\n    this.onSearchSubmit(this.state.searchTerm);\r\n  }\r\n\r\n  showPagination = () => {\r\n    if(this.state.images !== null && this.state.images.length !== 0) {\r\n      return (\r\n        <Pagination\r\n            itemClass=\"page-item\"\r\n            linkClass=\"page-link\"\r\n            activePage={this.state.activePage}\r\n            itemsCountPerPage={30}\r\n            totalItemsCount={this.state.totalItems}\r\n            pageRangeDisplayed={5}\r\n            onChange={this.handlePageChange.bind(this)}\r\n          />\r\n      );\r\n    }\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div className=\"ui container\" style={{marginTop: '10px'}}>\r\n        <SearchBar onSubmit={this.onSearchSubmit} />\r\n        <ImageList images={this.state.images} />\r\n        <div style={{position: \"absolute\", right: \"45%\"}}>\r\n          {this.showPagination()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'))"],"sourceRoot":""}